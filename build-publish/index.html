<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=description><meta name=author><link rel=icon href=../favicon.ico><title>Building the Site and Publishing on GitHub</title><link rel=stylesheet type=text/css href=../css/style.css><meta name=generator content="Gulp 3.9.1"><link rel=alternate type=application/rss+xml title="Gegen Website" href=../rss.xml></head><body><div class=container><h1>Building the Site and Publishing on GitHub</h1><p class=post-meta>August 20th 2017 by <span></span></p><hr><h2 id=git-repositories>Git repositories</h2><p>Suppose that your GitHub user name is <code>myUserName</code>, that you want to name your new website project as <code>myProject</code> and to publish the site using the <a href="https://pages.github.com/">GitHub Pages</a> free web hosting service. You have the choice to publish your site</p><ul><li>either as a <a href=https://help.github.com/articles/user-organization-and-project-pages/#project-pages>project site</a></li><li>or as a <a href=https://help.github.com/articles/user-organization-and-project-pages/#user--organization-pages>user site</a></li></ul><p>Note that only one <em>user site</em> is allowed for each GitHub account but multiple <em>project sites</em> are possible.</p><p>For both options (<em>project</em> or <em>user site</em>) you will need the first two of these three git repositories; for a <em>user site</em> you&#39;ll also need the third:</p><ol><li>a local repository called <code>myProject</code> cloned from <a href=https://github.com/lazy-8/base.git>https://github.com/lazy-8/base.git</a></li><li>a GitHub repository called <code>myProject</code> (GitHub will assign it the URL <a href=https://github.com/myUserName/myProject.git>https://github.com/myUserName/myProject.git</a>)</li><li>a GitHub repository called <code>myUserName.github.io</code> (the assigned URL will be <a href=https://github.com/myUserName/myUserName.git>https://github.com/myUserName/myUserName.git</a>)</li></ol><p>The local <code>myProject</code> repository will track changes you made to your source files (content, templates, stylesheets, javascript,...) and will push these to the <em>master</em> branch of the remote <code>myProject</code> on GitHub. Note that although the <em>master</em> branch of the remote <code>myProject</code> is on GitHub it will <em>not</em> be used by GitHub Pages. Instead, it will serve as a backup and a central repository for possible collaboration with other GitHub users.</p><p>What <em>will</em> be used by GitHub Pages is the <em>gh-pages</em> branch of the remote <code>myProject</code>, which will contain the built site. At least when you are publishing a <em>project site</em>. For a <em>user site</em> the built site will be pushed to the <em>master</em> branch of the third repository listed above, the remote <code>myUserName.github.io</code>.</p><h2 id=workflow>Workflow</h2><h3 id=setting-up-repositories-configuration>Setting up repositories, configuration</h3><ol><li>create a <code>myProject</code> repository on GitHub</li><li>optionally (for a <em>project site</em>) create also <code>myUserName.github.io</code> on GitHub</li><li>clone <code>base</code> into the local <code>myProject</code> and <code>cd</code> to it<pre><code>git clone https://github.com/lazy-8/base.git myProject; cd myProject
</code></pre></li><li>configure git to push the changes committed in the local <code>myProject</code> to the remote <code>myProject</code><pre><code>git remote set-url origin https://github.com/myUserName/myProject.git
</code></pre></li><li>set the <code>ghPagesBranch</code> and <code>ghPagesRemoteUrl</code> variables in <code>site.json</code>; this will tell the <code>gulp publish</code> task where you&#39;d like to deploy the built site<ol><li>for a <em>project site</em><pre><code>...
&quot;ghPagesBranch&quot;: &quot;gh-pages&quot;,
&quot;ghPagesRemoteUrl&quot;: &quot;https://github.com/myUserName/myProject.git&quot;}
</code></pre></li><li>for a <em>user site</em><pre><code>...
&quot;ghPagesBranch&quot;: &quot;master&quot;,
&quot;ghPagesRemoteUrl&quot;: &quot;https://github.com/myUserName/myUserName.git&quot;}
</code></pre></li></ol></li><li>set other variables in <code>site.json</code> like <code>title</code>, <code>description</code>, etc</li><li>install <code>node.js</code> packages<pre><code>npm install; bower install
</code></pre></li></ol><h3 id=building-and-publishing-the-site>Building and publishing the site</h3><p>Before getting ready to publish your site you probably were running the default gulp task via <code>gulp</code>, which not only watched the changes you made in the <code>edit/</code> directory but was also running a local webserver to give you immediate feedback on the changes. In the meantime you probably also pushed your locally committed changes to the remote <code>myProject</code> GitHub repository regularly.</p><p>Once you are ready to publish your site on GitHub</p><pre><code># ensure that gulp is not already running
gulp clean
gulp build
gulp publish
</code></pre><p>The URL of the published site again depends on the type of GitHub hosting</p><ul><li>for a <em>project site</em> it&#39;s <a href="https://myUserName.github.io/myProject/github/">https://myUserName.github.io/myProject/github/</a></li><li>for a <em>user site</em> it&#39;s <a href="https://myUserName.github.io/myProject/">https://myUserName.github.io/myProject/</a></li></ul></div><script type=text/javascript src=../js/combined.min.js></script></body></html>